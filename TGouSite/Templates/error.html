{# needs nothing. parses `?m=blablabla` itself. #}

{% extends "base.html" %}
{% load i18n %}

{% block content %}
<h1>出错啦 :(</h1>
<h2>
	<span id="error-message"></span></h2>

<script>
	function getQueryVariable(variable) {
	    var query = window.location.search.substring(1);
	    var vars = query.split('&');
	    for (var i = 0; i < vars.length; i++) {
	        var pair = vars[i].split('=');
	        if (decodeURIComponent(pair[0]) == variable) {
	            return decodeURIComponent(pair[1]);
	        }
	    }
	}
	var message = getQueryVariable('m');
	if(typeof message === 'undefined')
		message = "服务器开小差了……";

	document.getElementById("error-message").innerText = message;
</script>
{% endblock %}
