{# 表单 POST 到 /add-to-cart，字段名 commodityId, quantity #}

{# commodity #}
{# categoryList 从分类树的根节点开始 #}
{# comments 需要显示的评论数组 #}
{# average 评论的平均分 #}




{% extends "base.html" %}
{% load i18n %}
{% block content %}


<h1>商品 #{{commodity.id}}</h1>

<p>商品名称：
	<span class="commodity-name">{{commodity.name}}</span></p>

<p>店铺：
	<span class="category-name">{{ commodity.shop.name }} (#{{ commodity.shop.id }}) </span></p>

<p>类别：
	<div class="category-container">
		{% for category in categoryList %}
	    <span class="category-delimiter"> &gt; </span>
			<span class="category-name">{{ category.name }} (#{{ category.id }}) </span>
		{% endfor %}
	</div>
</p>

<p>有意购买？</p>

<form action="/add-to-cart" method="post">
<input name="commodityId" value="" type="hidden" />
<p>件数：
	<input name="quantity" value="" type="text" /></p>
<button type="submit" class="add-to-cart">加入购物车</button>
</form>


<p>详情：
	<span class="commodity-intro">{{commodity.intro}}</span></p>


<p>针对此商品的评论：
	共 <span class="comment-count">{{comments|length}}</span> 条，
	平均得分 <span class="comment-average">{{average}}</span>。</p>

<ul class="comment-list">
{% for comment in comments %}
		<li class="comment-item">
			用户<span class="comment-consumer">{{ comment.consumer }}</span>，
			评分<span class="comment-grade">{{ comment.grade }}</span>，
			<span class="comment-message">{{ comment.message }}</span>，
			发表于 <span class="comment-time">{{ comment.time }}</span>
		</li>
{% endfor %}
</ul>


{% endblock %}
